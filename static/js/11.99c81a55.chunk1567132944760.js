(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1177:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var l=function(){var e={};try{e=JSON.parse(localStorage.getItem("permission"))}catch(t){console.log(t)}return e[location.hash.replace("#","").split("?")[0]]||{}}},1184:function(e,t,a){"use strict";var l=a(144);t.a=Object(l.a)("productInfo",["list","edit","add","batchAdd","detail","detail/fbaInventory"],"")},1198:function(e,t,a){e.exports=a.p+"static/media/product.e1c0343d.xlsx"},1242:function(e,t,a){"use strict";a.r(t);var l=a(24),i=a(16),n=a(17),o=a(19),r=a(18),c=a(20),s=a(1),m=a.n(s),p=a(39),d=a(21),g=a.n(d),h=a(28),u=a.n(h),E=a(291),_=a(98),C=a(1198),k=a.n(C),f=a(1184),y=a(41),b=a(95),T=a(1177),w=E.j.create("ModalForm")(function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.handleOk,l=e.handleCancel,i=e.visible,n=e.rowData,o=void 0===n?{}:n,r=e.supplierList,c=void 0===r?[]:r,s=!!o.id,p={xl:{span:12},md:{span:8},sm:{span:4},xs:{span:8}},d={xl:{span:12},md:{span:12},sm:{span:24},xs:{span:24}};return m.a.createElement(E.n,{title:g.a.get("common._EDIT_"),visible:i,maskClosable:!1,onOk:a,onCancel:l,destroyOnClose:!0},m.a.createElement(E.j,{labelCol:{span:5},wrapperCol:{span:12},onSubmit:this.handleSubmit},m.a.createElement(E.m,{label:"PN"},t("pn",{initialValue:o.pn,rules:[{required:!0,message:"Please input your PN!"}]})(m.a.createElement(E.l,{disabled:s,autoComplete:"off",size:"small"}))),m.a.createElement(E.m,{label:g.a.get("pms._PRODUCT_NAME_")},t("productName",{initialValue:o.productName,rules:[{required:!0,message:"Please input your productName!"}]})(m.a.createElement(E.l,{disabled:s,autoComplete:"off",size:"small"}))),m.a.createElement(E.m,{label:g.a.get("common._SUPPLIER_")},t("supplierCode",{initialValue:o.supplierCode,rules:[{required:!0,message:"Please select your supplier"}]})(m.a.createElement(b.a,{size:"small",filterOption:function(e,t){var a=t.props;return!!~u.a.toLower(a.children).indexOf(u.a.toLower(e))}},u.a.map(c,function(e,t){return m.a.createElement(b.a.Option,{key:t,value:e.code,size:"small"},e.name)})))),m.a.createElement(E.m,{label:g.a.get("pms._PACKAGE_INFO_")},t("packageInfo",{initialValue:o.packageInfo})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))),m.a.createElement(E.m,{label:g.a.get("pms._COLOR_")},t("color",{initialValue:o.color})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))),m.a.createElement(E.q,{gutter:8},m.a.createElement("div",{style:{overflow:"hidden"}},m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PRODUCT_LENGTH_"),"(cm)"),htmlType:t("length",{initialValue:o.length})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))}),m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PRODUCT_WIDTH_"),"(cm)"),htmlType:t("width",{initialValue:o.width})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))})),m.a.createElement("div",{style:{overflow:"hidden"}},m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PRODUCT_HEIGHT_"),"(cm)"),htmlType:t("height",{initialValue:o.height})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))}),m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PRODUCT_WEIGHT_"),"(g)"),htmlType:t("weight",{initialValue:o.weight})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))})),m.a.createElement("div",{style:{overflow:"hidden"}},m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PRODUCT_LENGTH_"),"(in)"),htmlType:t("lengthEn",{initialValue:o.lengthEn})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))}),m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PRODUCT_WIDTH_"),"(in)"),htmlType:t("widthEn",{initialValue:o.widthEn})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))})),m.a.createElement("div",{style:{overflow:"hidden"}},m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PRODUCT_HEIGHT_"),"(in)"),htmlType:t("heightEn",{initialValue:o.heightEn})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))}),m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PRODUCT_WEIGHT_"),"(oz)"),htmlType:t("weightEn",{initialValue:o.weightEn})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))})),m.a.createElement("div",{style:{overflow:"hidden"}},m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PACKAGE_LENGTH_"),"(cm)"),htmlType:t("packageLength",{initialValue:o.packageLength})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))}),m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PACKAGE_WIDTH_"),"(cm)"),htmlType:t("packageWidth",{initialValue:o.packageWidth})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))})),m.a.createElement("div",{style:{overflow:"hidden"}},m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PACKAGE_HEIGHT_"),"(cm)"),htmlType:t("packageHeight",{initialValue:o.packageHeight})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))}),m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PACKAGE_WEIGHT_"),"(g)"),htmlType:t("packageWeight",{initialValue:o.packageWeight})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))})),m.a.createElement("div",{style:{overflow:"hidden"}},m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PACKAGE_LENGTH_"),"(in)"),htmlType:t("packageLengthEn",{initialValue:o.lengthEn})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))}),m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PACKAGE_WIDTH_"),"(in)"),htmlType:t("packageWidthEn",{initialValue:o.packageWidthEn})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))})),m.a.createElement("div",{style:{overflow:"hidden"}},m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PACKAGE_HEIGHT_"),"(in)"),htmlType:t("packageHeightEn",{initialValue:o.packageHeightEn})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))}),m.a.createElement(E.k,{labelCol:p,wrapperCol:d,label:"".concat(g.a.get("pms._PACKAGE_WEIGHT_"),"(oz)"),htmlType:t("packageWeightEn",{initialValue:o.packageWeightEn})(m.a.createElement(E.l,{autoComplete:"off",size:"small"}))})))))}}]),t}(s.Component)),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(r.a)(t).call(this,e))).handleSearch=function(e){e.preventDefault(),a.table.draw()},a.handleEdit=function(e){a.setState(u.a.assign(a.state,{visible:!0,rowData:e}))},a.handleAdd=function(e){a.setState({rowData:{},visible:!0})},a.handleCancel=function(){a.setState({visible:!1,rowData:{}})},a.handleOk=function(e){e.preventDefault();var t=a.modalForm.props.form.validateFields,i=a.state.rowData;t(function(e,t){e||(i.id?f.a.edit:f.a.add)(Object(l.a)({},t,{id:i.id})).then(function(e){var t=e.status,l=e.msg;if(!t)return E.w.error(l),!1;a.setState({visible:!1}),setTimeout(a.modalForm.props.form.resetFields,300),a.table.draw()})})},a.handleDownload=function(){var e=a.props.form.getFieldsValue,t=Object(l.a)({},e(),{action:"download"});f.a.list(t).then(function(e){var t=e.status,l=e.msg,i=e.content,n=void 0===i?{}:i;if(!t)return E.w.error(l),!1;Object(_.a)({sheetName:g.a.get("menu._REVIEW_ORDER_"),columns:a.columns.slice(0,a.columns.length-1),list:n.list||[]})})},a.state={visible:!1,rowData:{}},a.dispatch=a.props.dispatch,a.permission=Object(T.a)(),a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.table.draw(),this.dispatch({type:"sms/supplierList"})}},{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,i=t.getFieldsValue,n=this.props.productInfo.productList,o=void 0===n?{}:n;this.columns=[{title:"PN",dataIndex:"pn",render:function(t,a){var l=a.id;return e.permission.view?m.a.createElement(y.Link,{to:{pathname:"/PMS/Product/ProductInfo/detail",state:{id:l}}},m.a.createElement("span",{style:{whiteSpace:"nowrap"}},t)):t}},{title:g.a.get("pms._PRODUCT_NAME_"),dataIndex:"productName"},{title:g.a.get("pms._PACKAGE_INFO_"),dataIndex:"packageInfo"},{title:g.a.get("pms._COLOR_"),dataIndex:"color"},{title:g.a.get("common._STATUS_"),dataIndex:"status"},{title:"".concat(g.a.get("pms._PRODUCT_LENGTH_"),"(cm)"),dataIndex:"length",align:"right"},{title:"".concat(g.a.get("pms._PRODUCT_WIDTH_"),"(cm)"),dataIndex:"width",align:"right"},{title:"".concat(g.a.get("pms._PRODUCT_HEIGHT_"),"(cm)"),dataIndex:"height",align:"right"},{title:"".concat(g.a.get("pms._PRODUCT_WEIGHT_"),"(g)"),dataIndex:"weight",align:"right"},{title:"".concat(g.a.get("pms._PRODUCT_LENGTH_"),"(in)"),dataIndex:"lengthEn",align:"right"},{title:"".concat(g.a.get("pms._PRODUCT_WIDTH_"),"(in)"),dataIndex:"widthEn",align:"right"},{title:"".concat(g.a.get("pms._PRODUCT_HEIGHT_"),"(in)"),dataIndex:"heightEn",align:"right"},{title:"".concat(g.a.get("pms._PRODUCT_WEIGHT_"),"(oz)"),dataIndex:"weightEn",align:"right"},{title:"".concat(g.a.get("pms._PACKAGE_LENGTH_"),"(cm)"),dataIndex:"packageLength",align:"right"},{title:"".concat(g.a.get("pms._PACKAGE_WIDTH_"),"(cm)"),dataIndex:"packageWidth",align:"right"},{title:"".concat(g.a.get("pms._PACKAGE_HEIGHT_"),"(cm)"),dataIndex:"packageHeight",align:"right"},{title:"".concat(g.a.get("pms._PACKAGE_WEIGHT_"),"(g)"),dataIndex:"packageWeight",align:"right"},{title:"".concat(g.a.get("pms._PACKAGE_LENGTH_"),"(in)"),dataIndex:"packageLengthEn",align:"right"},{title:"".concat(g.a.get("pms._PACKAGE_WIDTH_"),"(in)"),dataIndex:"packageWidthEn",align:"right"},{title:"".concat(g.a.get("pms._PACKAGE_HEIGHT_"),"(in)"),dataIndex:"packageHeightEn",align:"right"},{title:"".concat(g.a.get("pms._PACKAGE_WEIGHT_"),"(oz)"),dataIndex:"packageWeightEn",align:"right"},{title:g.a.get("common._OPERATION_"),dataIndex:"id",render:function(t,a){return e.permission.edit&&m.a.createElement("a",{href:"javascript:;",onClick:function(){return e.handleEdit(a)}},g.a.get("common._EDIT_"))},fixed:"right"}];for(var r=[{title:"PN\u7f16\u7801",key:"pn"},{title:"\u4ea7\u54c1\u540d\u79f0",key:"productName"},{title:"\u54c1\u7ebf",key:"productLine"},{title:"\u4ea7\u54c1\u89c4\u683c",key:"packageInfo"},{title:"\u4ea7\u54c1\u989c\u8272",key:"color"},{title:"\u6210\u54c1\u6210\u672c",key:"generalCost"},{title:"\u4ea7\u54c1\u6210\u672c",key:"productCost"},{title:"\u5305\u88c5\u888b/\u5f69\u76d2",key:"packageCost"},{title:"\u6807\u7b7e+\u80cc\u8d34",key:"stickerCost"},{title:"\u5185\u886c",key:"accessoriesCost"},{title:"\u4eba\u5de5(\u5305\u88c5\u3001\u8d34\u6761\u7801LOGO\u7b49)",key:"assembleCost"},{title:"\u4e1d\u5370\u8d39",key:"printCost"},{title:"\u6807\u7b7e",key:"labelCost"},{title:"\u5851\u6599\u76d2",key:"boxCost"},{title:"\u8fd0\u8d39/\u4e2a",key:"shippingCost"},{title:"\u6a21\u5177\u8d39\u7528/\u4e2a",key:"mouldCost"},{title:"\u4f9b\u5e94\u5546",key:"supplier"},{title:"\u5907\u6ce8",key:"remark"},{title:"\u751f\u4ea7\u5468\u671f",key:"leadTime"},{title:"MOQ",key:"MOQ"},{title:"\u4ea7\u54c1\u957f(cm)",key:"length"},{title:"\u4ea7\u54c1\u5bbd(cm)",key:"width"},{title:"\u4ea7\u54c1\u9ad8(cm)",key:"height"},{title:"\u4ea7\u54c1\u91cd(g)",key:"weight"},{title:"\u4ea7\u54c1\u957f(in)",key:"lengthEn"},{title:"\u4ea7\u54c1\u5bbd(in)",key:"widthEn"},{title:"\u4ea7\u54c1\u9ad8(in)",key:"heightEn"},{title:"\u4ea7\u54c1\u91cd(oz)",key:"weightEn"},{title:"\u5305\u88c5\u957f(cm)",key:"packageLength"},{title:"\u5305\u88c5\u5bbd(cm)",key:"packageWidth"},{title:"\u5305\u88c5\u9ad8(cm)",key:"packageHeight"},{title:"\u5305\u88c5\u91cd(g)",key:"packageWeight"},{title:"\u5305\u88c5\u957f(in)",key:"packageLength"},{title:"\u5305\u88c5\u5bbd(in)",key:"packageWidth"},{title:"\u5305\u88c5\u9ad8(in)",key:"packageHeight"},{title:"\u5305\u88c5\u91cd(oz)",key:"packageWidth"},{title:"ErrMsg",key:"errMsg"}],c={},s=0;s<r.length-2;s++)c[r[s].title]=r[s].key;var p=this.props.sms.supplierList;return m.a.createElement(E.h,null,m.a.createElement(E.d,{onSubmit:this.handleSearch},m.a.createElement(E.k,{label:"SKU",htmlType:a("sku")(m.a.createElement(E.l,{size:"small",autoComplete:"off"}))}),m.a.createElement(E.k,{label:"PN",htmlType:a("pn")(m.a.createElement(E.l,{size:"small",autoComplete:"off"}))}),m.a.createElement(E.k,{label:"Product Name",htmlType:a("productName")(m.a.createElement(E.l,{size:"small",autoComplete:"off"}))}),m.a.createElement(E.k,null,m.a.createElement(E.a,{type:"primary",icon:"search",size:"small",htmlType:"submit"},g.a.get("common._SEARCH_")))),m.a.createElement(E.e,{title:g.a.get("common._LIST_"),ref:function(t){return e.table=t},style:{marginTop:20},columns:this.columns,dataSource:o.list||[],total:o.total,rowKey:function(e){return e.id},actionsTop:[this.permission.edit&&m.a.createElement(E.a,{key:"add",onClick:this.handleAdd,type:"primary",icon:"plus",size:"small",style:{marginRight:10}},g.a.get("common._ADD_")),this.permission.download&&m.a.createElement(E.a,{key:"download",onClick:this.handleDownload,target:"_blank",size:"small",icon:"download",type:"primary",style:{marginRight:10}},g.a.get("common._DOWNLOAD_")),this.permission.edit&&m.a.createElement(E.a,{key:"uploadExcel",href:k.a,target:"_blank",size:"small",icon:"download",type:"primary",style:{marginRight:10}},g.a.get("common._DOWNLOAD_TEMPLATE_")),this.permission.edit&&m.a.createElement(E.t,{key:"uplaod",batchUploadApi:f.a.batchAdd,excelHeader:c,errorColumns:r,exportError:!0,table:this.table,local:!0})],required:{type:"productInfo/queryList",formValues:Object(l.a)({},i())},scroll:{x:1500}}),m.a.createElement(w,Object.assign({},this.state,{wrappedComponentRef:function(t){e.modalForm=t},handleOk:this.handleOk,handleCancel:this.handleCancel,supplierList:p})))}}]),t}(m.a.Component);t.default=Object(p.connect)(function(e){return e})(E.j.create("search_form")(I))}}]);