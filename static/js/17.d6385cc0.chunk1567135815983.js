(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1177:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a=function(){var t={};try{t=JSON.parse(localStorage.getItem("permission"))}catch(e){console.log(e)}return t[location.hash.replace("#","").split("?")[0]]||{}}},1186:function(t,e,n){"use strict";n.r(e);var a=n(144);e.default=Object(a.a)("inventory",["overview","overview/in_production","overview/fba_inventory"],"")},1211:function(t,e,n){"use strict";n.r(e);var a=n(46),i=n(24),r=n(16),s=n(17),o=n(19),l=n(18),c=n(20),u=n(1),d=n.n(u),m=n(39),_=n(21),p=n.n(_),g=n(291),h=n(98),f=n(1177),v=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(o.a)(this,Object(l.a)(e).call(this,t))).handleDownload=function(){n(1186).default.overview({action:"download"}).then(function(t){var e=t.status,n=t.msg,a=t.content;if(0==e)return g.w.error(n),!1;Object(h.a)({columns:[{title:"PN",key:"pn"},{title:p.a.get("sms._IN_PRODUCTION_"),key:"in_production"},{title:p.a.get("sms._CN_INVENTORY_"),key:"cn_inventory",align:"right"},{title:p.a.get("sms._DEFECTIVES_"),key:"defectives",align:"right"},{title:p.a.get("sms._SAMPLES_"),key:"samples",align:"right"},{title:p.a.get("sms._TRANSIT_TO_FBA_"),key:"fba_transit"},{title:p.a.get("sms._FBA_INVENTORY_"),key:"fba_inventory"},{title:p.a.get("sms._FBA_INBOUND_"),key:"fba_inbound"},{title:p.a.get("sms._FBA_TRANSFER_"),key:"fba_transfer"},{title:p.a.get("sms._FBA_UNFULFILLABLE_"),key:"fba_unfulfillable"}],list:a.list||[],sheetName:p.a.get("menu._INVENTORY_OVERVIEW_")})})},a.handleSearch=function(t){t.preventDefault(),a.table.draw()},a.dispatch=a.props.dispatch,a.permission=Object(f.a)(),a}return Object(c.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.table.draw()}},{key:"componentDidUpdate",value:function(){var t=this;this.columns=[{title:"PN",dataIndex:"pn"},{title:p.a.get("sms._IN_PRODUCTION_"),dataIndex:"in_production",align:"right",render:function(e,n,a){return parseInt(e)&&d.a.createElement("a",null,d.a.createElement(g.s,{params:{type:"inProduction",sku:n.sku},text:e,columns:t.inProductionColumns,dispatchType:"stockOverview/inProductionList"}))||e},sorter:!0,defaultSortOrder:"descend"},{title:p.a.get("sms._CN_INVENTORY_"),dataIndex:"cn_inventory",align:"right",sorter:!0},{title:p.a.get("sms._DEFECTIVES_"),dataIndex:"defectives",align:"right"},{title:p.a.get("sms._SAMPLES_"),dataIndex:"samples",align:"right"},{title:p.a.get("sms._TRANSIT_TO_FBA_"),dataIndex:"fba_transit",align:"right",render:function(e,n,a){return parseInt(e)&&d.a.createElement("a",null,d.a.createElement(g.s,{params:{type:"transit",sku:n.sku},text:e,columns:t.transitColumns,dispatchType:"stockOverview/fba_inventory"}))||e},sorter:!0},{title:p.a.get("sms._FBA_INVENTORY_"),dataIndex:"fba_inventory",align:"right",render:function(e,n,a){return parseInt(e)&&d.a.createElement("a",null,d.a.createElement(g.s,{params:{type:"inventory",sku:n.sku},text:e,columns:t.inventoryColumns,dispatchType:"stockOverview/fba_inventory"}))||e},sorter:!0},{title:p.a.get("sms._FBA_INBOUND_"),dataIndex:"fba_inbound",align:"right",render:function(e,n,a){return parseInt(e)&&d.a.createElement("a",null,d.a.createElement(g.s,{params:{type:"inbound",sku:n.sku},text:e,columns:t.inventoryColumns,dispatchType:"stockOverview/fba_inventory"}))||e}},{title:p.a.get("sms._FBA_TRANSFER_"),dataIndex:"fba_transfer",align:"right",render:function(e,n,a){return parseInt(e)&&d.a.createElement("a",null,d.a.createElement(g.s,{params:{type:"transfer",sku:n.sku},text:e,columns:t.inventoryColumns,dispatchType:"stockOverview/fba_inventory"}))||e}},{title:p.a.get("sms._FBA_UNFULFILLABLE_"),dataIndex:"fba_unfulfillable",align:"right",render:function(e,n,a){return parseInt(e)&&d.a.createElement("a",null,d.a.createElement(g.s,{params:{type:"unfulfillable",sku:n.sku},text:e,columns:t.inventoryColumns,dispatchType:"stockOverview/fba_inventory"}))||e}}],this.inProductionColumns=[{title:p.a.get("sms._ORDER_DATE_"),dataIndex:"order_date",align:"center",width:"40%"},{title:p.a.get("sms._ORDER_NUM_"),dataIndex:"order_num",align:"right",width:"30%"},{title:p.a.get("sms._ORDER_SUPPLIER_"),dataIndex:"order_supplier",width:"30%"}],this.transitColumns=[{title:"FBA".concat(p.a.get("common._COUNTRY_")),dataIndex:"country",width:"30%"},{title:p.a.get("common._QUANTIFY_"),dataIndex:"num",align:"right",width:"15%"},{title:p.a.get("sms._SHIPPING_METHODS_"),dataIndex:"Shipping_methods",width:"20%"},{title:p.a.get("sms._DELIVERY_TIME_"),dataIndex:"delivery_time",align:"center",width:"20%"},{title:p.a.get("sms._DELIVERY_NUM_"),dataIndex:"shipment_order",width:"15%"}],this.inventoryColumns=[{title:"FBA".concat(p.a.get("common._COUNTRY_")),dataIndex:"country",width:"70%"},{title:"FBA".concat(p.a.get("common._QUANTIFY_")),dataIndex:"num",align:"right",width:"30%"}]}},{key:"render",value:function(){var t,e=this,n=this.props.stockOverview,r=(void 0===n?{}:n).stockList,s=void 0===r?{}:r,o=this.props.form,l=o.getFieldDecorator,c=o.getFieldsValue;return d.a.createElement(g.h,null,d.a.createElement(g.d,{onSubmit:this.handleSearch},d.a.createElement(g.k,{label:"PN",htmlType:l("pn")(d.a.createElement(g.l,{size:"small",autoComplete:"off"}))}),d.a.createElement(g.k,{label:"SKU",htmlType:l("sku")(d.a.createElement(g.l,{size:"small",autoComplete:"off"}))}),d.a.createElement(g.k,null,d.a.createElement(g.a,{type:"primary",icon:"search",size:"small",htmlType:"submit"},p.a.get("common._SEARCH_")))),d.a.createElement(g.e,(t={title:p.a.get("common._LIST_"),style:{marginTop:20},ref:function(t){return e.table=t},columns:this.columns,dataSource:s.list||[],total:s.total,rowKey:function(t){return t.id}},Object(a.a)(t,"total",s.total),Object(a.a)(t,"required",{type:"stockOverview/queryList",formValues:Object(i.a)({},c(),{sort:{column:"in_production",order:"descend"}})}),Object(a.a)(t,"actionsTop",this.permission.download&&d.a.createElement(g.a,{type:"primary",icon:"download",className:"ant-btn-sm",target:"_blank",onClick:this.handleDownload},p.a.get("common._DOWNLOAD_"))),t)))}}]),e}(u.Component);e.default=Object(m.connect)(function(t){return t})(g.j.create("InventoryOverviewForm")(v))}}]);