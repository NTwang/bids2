(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1177:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var n=function(){var t={};try{t=JSON.parse(localStorage.getItem("permission"))}catch(e){console.log(e)}return t[location.hash.replace("#","").split("?")[0]]||{}}},1213:function(t,e,a){"use strict";a.r(e);var n=a(16),i=a(17),s=a(19),l=a(18),_=a(20),c=a(1),o=a.n(c),r=a(39),d=a(21),p=a.n(d),u=a(283),y=a(47),g=a(291),h=a(292),m=a(98),I=a(1177),N=function(t){function e(t){var a;return Object(n.a)(this,e),(a=Object(s.a)(this,Object(l.a)(e).call(this,t))).hanleDownload=function(){h.a.analysis({action:"download"}).then(function(t){var e=t.status,n=t.msg,i=t.content;if(0==e)return u.a.error(n),!1;Object(m.a)({sheetName:p.a.get("menu._PURCHASE_ANALYZE_"),columns:[{title:"PN",key:"pn"},{title:"".concat(p.a.get("sms._DAILY_UNITS_"),"(").concat(a.dailyUnits.replace("{x}",28),")"),key:"daily_units_d28"},{title:"".concat(p.a.get("sms._DAILY_UNITS_"),"(").concat(a.dailyUnits.replace("{x}",14),")"),key:"daily_units_d14"},{title:"".concat(p.a.get("sms._DAILY_UNITS_"),"(").concat(a.dailyUnits.replace("{x}",7),")"),key:"daily_units_d7"},{title:p.a.get("sms._CN_INVENTORY_"),key:"cn_inventory"},{title:p.a.get("sms._IN_PRODUCTION_"),key:"in_production"},{title:p.a.get("sms._TRANSIT_TO_FBA_"),key:"fba_transit"},{title:p.a.get("sms._TOTAL_FBA_INVENTORY_"),key:"total_fba_inventory"},{title:"".concat(p.a.get("sms._SUPPLY_DAYS_"),"(").concat(a.supplyDays.replace("{x}",7),")"),key:"supply_d7"},{title:"".concat(p.a.get("sms._SUPPLY_DAYS_"),"(").concat(a.supplyDays.replace("{x}",14),")"),key:"supply_d14"},{title:"".concat(p.a.get("sms._SUPPLY_DAYS_"),"(").concat(a.supplyDays.replace("{x}",28),")"),key:"supply_d28"},{title:p.a.get("sms._REPLENISHMENT_SUGGESTION_"),key:"rs"}],list:i.list||[]})})},a.permission=Object(I.a)(),a}return Object(_.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.table.draw()}},{key:"componentWillReceiveProps",value:function(){this.dailyUnits=p.a.get("sms._LATEST_X_DAYS_2_"),this.supplyDays=p.a.get("sms._LATEST_X_DAYS_"),this.columns=[{title:"PN",dataIndex:"pn"},{title:p.a.get("sms._DAILY_UNITS_"),children:[{title:this.dailyUnits.replace("{x}",28),dataIndex:"daily_units_d28",align:"right"},{title:this.dailyUnits.replace("{x}",14),dataIndex:"daily_units_d14",align:"right"},{title:this.dailyUnits.replace("{x}",7),dataIndex:"daily_units_d7",align:"right"}]},{title:p.a.get("sms._CN_INVENTORY_"),dataIndex:"cn_inventory",align:"right"},{title:p.a.get("sms._IN_PRODUCTION_"),dataIndex:"in_production",align:"right"},{title:p.a.get("sms._TRANSIT_TO_FBA_"),dataIndex:"fba_transit",align:"right"},{title:p.a.get("sms._TOTAL_FBA_INVENTORY_"),dataIndex:"total_fba_inventory",align:"right"},{title:p.a.get("sms._SUPPLY_DAYS_"),children:[{title:this.supplyDays.replace("{x}",7),dataIndex:"supply_d7",align:"right"},{title:this.supplyDays.replace("{x}",14),dataIndex:"supply_d14",align:"right"},{title:this.supplyDays.replace("{x}",28),dataIndex:"supply_d28",align:"right"}]},{title:p.a.get("sms._REPLENISHMENT_SUGGESTION_"),dataIndex:"rs",align:"right"}]}},{key:"render",value:function(){var t=this,e=this.props.purchaseAnalyze,a=(void 0===e?{}:e).purchaseList,n=void 0===a?{}:a;return o.a.createElement(g.e,{title:p.a.get("common._LIST_"),ref:function(e){return t.table=e},columns:this.columns,bordered:!0,dataSource:n.list||[],rowKey:function(t){return t.id},total:n.total,actionsTop:[this.permission.download&&o.a.createElement(y.a,{key:"down_btn",onClick:this.hanleDownload,target:"_blank",size:"small",icon:"download",type:"primary"},p.a.get("common._DOWNLOAD_"))],required:{type:"purchaseAnalyze/queryList"}})}}]),e}(c.Component);e.default=Object(r.connect)(function(t){return t})(N)}}]);