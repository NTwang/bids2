(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1177:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var r=function(){var e={};try{e=JSON.parse(localStorage.getItem("permission"))}catch(t){console.log(t)}return e[location.hash.replace("#","").split("?")[0]]||{}}},1180:function(e,t,a){"use strict";var r=a(144);t.a=Object(r.a)("amz_sales",["dashboard_01","dashboard_01/list","dashboard_02","dashboard_02/list","details","details/export","product_lines"],"")},1181:function(e,t,a){"use strict";a.d(t,"a",function(){return r});a(21);var r=function(e){var t=[{text:"US",code:"US"},{text:"JP",code:"JP"},{text:"UK",code:"UK"},{text:"AU",code:"AU"},{text:"DE",code:"DE"},{text:"FR",code:"FR"},{text:"IT",code:"IT"},{text:"ES",code:"ES"}];return e?(t.filter(function(t){return t.code==e})[0]||{}).text:t}},1232:function(e,t,a){"use strict";a.r(t);var r=a(46),n=a(24),o=a(16),i=a(17),l=a(19),s=a(18),d=a(20),c=a(1),u=a.n(c),m=a(39),p=a(28),h=a.n(p),f=a(21),v=a.n(f),g=a(340),_=a(578),y=a(95),b=a(582),O=a(47),k=a(373),E=a(581),w=a(291),x=a(1181),D=a(15),S=a.n(D),T=a(98),j=a(1180),I=a(1177),U=g.a.Content,L=_.a.RangePicker,C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).handleSearch=function(e){e.preventDefault(),a.table.draw()},a.handleDownload=function(e){var t=a.props.form,r=t.getFieldsValue,o=t.getFieldValue,i=Object(n.a)({},h.a.omit(r(),["order_date"]),{start_date:o("order_date")[0]&&S()(o("order_date")[0]).format(a.format),end_date:o("order_date")[1]&&S()(o("order_date")[1]).format(a.format),action:"download"});j.a.details(i).then(function(e){var t=e.status,a=e.msg,r=e.content;0!=t?Object(T.a)({sheetName:"Amazon_Sales",columns:[{title:"Product Line",key:"title"},{title:"SKU",key:"sku"},{title:"Sessions",key:"sessions"},{title:"Orders",key:"orders"},{title:"Units",key:"units"},{title:"CR",key:"cr"},{title:"Revenue",key:"revenue"},{title:"Average Price",key:"avg"}],list:r.list}):w.w.error(a)})},a.disabledDate=function(e,t){var r=a.endDate||S()().endOf("day");return e&&e>r},a.columns=[{title:"Product Line",dataIndex:"title",sorter:!0,defaultSortOrder:"descend"},{title:"SKU",dataIndex:"sku",sorter:!0},{title:"Sessions",dataIndex:"sessions",sorter:!0,align:"right"},{title:"Orders",dataIndex:"orders",sorter:!0,align:"right"},{title:"Units",dataIndex:"units",sorter:!0,align:"right"},{title:"CR",dataIndex:"cr",sorter:!0,align:"right"},{title:"Revenue",dataIndex:"revenue",sorter:!0,align:"right"},{title:"Average Price",dataIndex:"avg",sorter:!0,align:"right"}],a.dispatch=a.props.dispatch,a.format="YYYY-MM-DD",a.endDate=void 0,a.permission=Object(I.a)(),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.table.draw(),this.dispatch({type:"salesDetails/queryProductLines",payload:{}})}},{key:"shouldComponentUpdate",value:function(e,t){return!!h.a.keys(e.salesDetails).length}},{key:"render",value:function(){var e,t=this,a=this.props.form,o=a.getFieldDecorator,i=a.getFieldsValue,l=a.getFieldValue,s=this.props.salesDetails||{},d=s.salesList,c=void 0===d?{}:d,m=s.productLines,p=void 0===m?{}:m,f=c.list_sum,g=void 0===f?{}:f,_=c.request_param,E=void 0===_?{}:_,D=E.start_date,T=E.end_date;return D=D?S()(D):void 0,T=T?S()(T):void 0,this.endDate||(this.endDate=T),u.a.createElement(U,null,u.a.createElement(w.d,{layout:"inline",onSubmit:this.handleSearch},u.a.createElement(w.k,{label:"Product Line",htmlType:o("product_lines")(u.a.createElement(y.a,{size:"small",mode:"multiple",filterOption:function(e,t){var a=t.props;return!!~h.a.toLower(a.children).indexOf(h.a.toLower(e))}},h.a.map(p.list||[],function(e,t){return u.a.createElement(y.a.Option,{key:t,value:e.code},e.name)})))}),u.a.createElement(w.k,{label:"SKU",htmlType:o("sku")(u.a.createElement(b.a,{size:"small",autoComplete:"off"}))}),u.a.createElement(w.k,{label:"Country",htmlType:o("countries",{initialValue:["US"]})(u.a.createElement(y.a,{size:"small",mode:"multiple",filterOption:function(e,t){var a=t.props;return!!~h.a.toLower(a.children).indexOf(h.a.toLower(e))}},h.a.map(Object(x.a)(),function(e,t){return u.a.createElement(y.a.Option,{size:"small",key:t,value:e.code},e.text)})))}),u.a.createElement(w.k,{label:v.a.get("common._TIME_"),htmlType:o("order_date",{initialValue:[D,T]})(u.a.createElement(L,{disabledDate:function(e){return t.disabledDate(e,T)},ranges:(e={},Object(r.a)(e,v.a.get("common._MONTH_"),[S()().startOf("month"),T||S()().endOf("month")]),Object(r.a)(e,v.a.get("common._WEEK_"),[S()().startOf("week"),T||S()().endOf("week")]),e)}))}),u.a.createElement(w.b,{align:"right"},u.a.createElement(O.a,{htmlType:"submit",type:"primary",size:"small",icon:"search"},v.a.get("common._SEARCH_")))),u.a.createElement(w.e,Object.assign({},this.props,{title:v.a.get("common._LIST_"),ref:function(e){t.table=e},style:{marginTop:"20px"},columns:this.columns,dataSource:c.list,showTotal:c.total,total:c.total,rowKey:function(e){return e.sku},actionsTop:[this.permission.download&&u.a.createElement(O.a,{key:"down_btn",onClick:this.handleDownload,target:"_blank",className:"ant-btn-sm",icon:"download",type:"primary"},v.a.get("common._DOWNLOAD_"))],tableInfo:u.a.createElement("div",null,"Total Sessions\uff1a",g.sessions,u.a.createElement(k.a,{type:"vertical"}),"Total Order\uff1a",g.orders,u.a.createElement(k.a,{type:"vertical"}),"Total Units\uff1a",g.units,u.a.createElement(k.a,{type:"vertical"}),"Total CR\uff1a",g.cr,u.a.createElement(k.a,{type:"vertical"}),"Total Revenue\uff1a",g.revenue,u.a.createElement(k.a,{type:"vertical"}),"Total Average Price\uff1a",g.avg),required:{type:"salesDetails/queryList",formValues:Object(n.a)({},h.a.omit(i(),["order_date"]),{start_date:l("order_date")[0]&&S()(l("order_date")[0]).format(this.format),end_date:l("order_date")[1]&&S()(l("order_date")[1]).format(this.format),sort:{column:"title",order:"descend"}})}})))}}]),t}(c.Component);t.default=Object(m.connect)(function(e){return e})(E.a.create()(C))}}]);